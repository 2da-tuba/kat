#!/bin/sh
# 既にkatコマンドを実行済で日付が違っていた場合置き換え
if echo "$1" | grep -E '\([0-9]{4}年[0-9]{2}月[0-9]{2}日版\)'; then
    if [ "$(echo "$1" | sed -E 's/(.*)(\([0-9]{4}年[0-9]{2}月[0-9]{2}日版\))(.*)/\2/g')" != "$(date "+(%Y年%m月%d日版)")" ]; then
        cp "$1" "$(echo "$1" | sed -E 's/(.*)\([0-9]{4}年[0-9]{2}月[0-9]{2}日版\).*/\1/g')$(date "+(%Y年%m月%d日版)")${1#${1%%.*}}"
        exit
    fi
fi

cp "$1" "${1%%.*}$(date "+(%Y年%m月%d日版)")${1#${1%%.*}}"